# For .Net & Unity3d Devs

To get started integrating payments into **LUNC/LUNA** for your on-chain products, please use the following [nuget](https://www.nuget.org/packages/Terra.Net.OnChainPayments) package.

# About the Library

Internally manages gas estimation required by the burn tax for successful transactions on the blockchain. Makes it easier for devs to get started with payments on the LUNC/LUNA Blockchains.

## Features

- **Written in C#**, with type definitions
- Works with Xamarin, Unity, Asp, and all other frameworks in the .Net Ecosystems
- Makes it easier to manage payments for anyone deploying to the Apple or Google app stores

## Installation & Configuration

Grab the latest version off [NuGet](https://www.nuget.org/packages/Terra.Net.OnChainPayments)

```sh
dotnet add package Terra.Net.OnChainPayments
```

## Usage

This package can be used for Mobile & Web Developers, or SDK Developers looking to extend the Terra Platform

### Manage Payments

Please note: **PaymentsManager** must be registered as a Singleton to prevent issues with the Connection Pool.

```cs
void ProcessPaymentForTerra() {
     string businessWallet = "terra17lmam6zguazs5q5u6z5mmx76uj63gldnse2pdp"; // Wallet where customer payments will be transferred to
     string customerRecoveryWords = "notice oak worry limit wrap speak medal online prefer cluster roof addict wrist behave treat actual wasp year salad speed social layer crew genius"; // Recovery Words of the Customer wallet that will be making the payment

     // Configure your PaymentManager
     // Set Blockchain to target (in this case Classic)
     var paymentsManager = new PaymentsManager(TerraEnvironment.Classic)
                               .ConfigureBusinessWallet(businessWallet) // Configure your Business Wallet
                               .ConfigureCustomerWallet(customerRecoveryWords); // Configure the Customer Wallet

     var simulation = await paymentsManager.ChargeCustomer(100);
     await DisplayAlert("Successful Transaction", $"Gas Wanted: {simulation.GasWanted}, \n Gas Used: {simulation.GasUsed}", "Ok");
}
```

## Terra.Net.OnChainPayments For Unity Developers

If you are using Terra.Net.OnChainPayments for Unity, please make sure to install the [following asset](https://github.com/TerraMystics/Terra.Unity.Package) in your project, and follow the installation instructions above
